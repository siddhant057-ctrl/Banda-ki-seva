<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä - Banda Ki Seva</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
<style>
    :root {
        --primary: #FF5722;
        --primary-light: #FF8A50;
        --primary-dark: #E64A19;
        --secondary: #FFC107;
        --light: #f8f9fa;
        --dark: #333;
        --gray: #6c757d;
        --light-gray: #e9ecef;
        --danger: #f44336;
        --warning: #ffc107;
        --info: #2196f3;
        --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        --radius: 15px;
        --radius-sm: 10px;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Segoe UI', 'Arial', sans-serif;
    }

    body {
        font-family: 'Segoe UI', 'Arial', sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        color: var(--dark);
        line-height: 1.6;
        min-height: 100vh;
        padding-bottom: 80px;
    }

    /* Language Toggle */
    .language-toggle {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 2000;
        display: flex;
        gap: 5px;
        background: white;
        padding: 5px;
        border-radius: 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .lang-btn {
        padding: 8px 15px;
        border: none;
        border-radius: 15px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 14px;
    }

    .lang-btn.active {
        background: var(--primary);
        color: white;
    }

    /* Header */
    .header {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        padding: 15px 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        position: sticky;
        top: 0;
        z-index: 1000;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 5px solid var(--secondary);
    }

    .logo {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .logo-icon {
        background: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .logo-icon i {
        font-size: 28px;
        color: var(--primary);
    }

    .logo-text h1 {
        font-size: 22px;
        font-weight: 700;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
    }

    .logo-text span {
        font-size: 14px;
        opacity: 0.9;
        font-weight: normal;
    }

    .user-badge {
        display: flex;
        align-items: center;
        gap: 10px;
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 15px;
        border-radius: 30px;
        font-size: 14px;
    }

    .nav-btn {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 20px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        transition: all 0.3s;
        text-decoration: none;
    }

    .nav-btn:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
    }

    /* Welcome Section */
    .welcome-section {
        padding: 20px;
        text-align: center;
        background: linear-gradient(135deg, #ffffff 0%, #fff8f0 100%);
        border-radius: 0 0 var(--radius) var(--radius);
        margin-bottom: 20px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .welcome-icon {
        font-size: 48px;
        color: var(--primary);
        margin-bottom: 10px;
        animation: bounce 2s infinite;
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    .welcome-text h2 {
        font-size: 24px;
        color: var(--primary-dark);
        margin-bottom: 10px;
    }

    /* Food Items Section */
    .food-section {
        margin: 20px;
    }

    .food-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }

    .food-title {
        font-size: 20px;
        font-weight: bold;
        color: var(--primary-dark);
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .food-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
    }

    .food-card {
        background: white;
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: var(--shadow);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 2px solid transparent;
        position: relative;
    }

    .food-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        border-color: var(--primary-light);
    }

    .food-image {
        width: 100%;
        height: 180px;
        background: #f0f0f0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        color: var(--primary);
        position: relative;
    }

    .food-badge {
        position: absolute;
        top: 10px;
        left: 10px;
        background: var(--secondary);
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: bold;
        z-index: 2;
    }

    .food-body {
        padding: 15px;
    }

    .food-name {
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 8px;
        color: var(--dark);
        height: 50px;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .food-description {
        font-size: 14px;
        color: var(--gray);
        margin-bottom: 10px;
        height: 40px;
        overflow: hidden;
    }

    .food-price {
        color: var(--primary);
        font-size: 22px;
        font-weight: 700;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .food-controls {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 15px;
    }

    .qty-controls {
        display: flex;
        align-items: center;
        gap: 10px;
        background: #f5f5f5;
        padding: 6px 12px;
        border-radius: 20px;
    }

    .qty-btn {
        width: 32px;
        height: 32px;
        border: none;
        background: var(--primary);
        color: white;
        font-size: 16px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s;
    }

    .qty-btn:hover {
        background: var(--primary-dark);
    }

    .qty-display {
        font-size: 16px;
        font-weight: 700;
        min-width: 30px;
        text-align: center;
        color: var(--dark);
    }

    .add-to-cart {
        background: var(--secondary);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.3s;
        box-shadow: 0 4px 8px rgba(255, 152, 0, 0.3);
    }

    .add-to-cart:hover {
        background: #e68900;
        transform: scale(1.05);
    }

    /* Fixed Order Button */
    .fixed-order-btn {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        padding: 18px 40px;
        border-radius: 50px;
        font-size: 20px;
        font-weight: 700;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 15px;
        box-shadow: 0 6px 20px rgba(255, 87, 34, 0.4);
        z-index: 1000;
        transition: all 0.3s;
        border: none;
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0% { box-shadow: 0 6px 20px rgba(255, 87, 34, 0.4); }
        50% { box-shadow: 0 6px 30px rgba(255, 87, 34, 0.6); }
        100% { box-shadow: 0 6px 20px rgba(255, 87, 34, 0.4); }
    }

    .fixed-order-btn:hover {
        transform: translateX(-50%) scale(1.05);
        background: linear-gradient(135deg, var(--primary-dark), var(--primary));
    }

    .fixed-order-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        animation: none;
    }

    /* Cart Preview Modal */
    .cart-preview-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1100;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .cart-preview-modal.active {
        display: flex;
    }

    .cart-preview-content {
        background: white;
        width: 100%;
        max-width: 500px;
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        max-height: 80vh;
        overflow-y: auto;
    }

    .cart-preview-header {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        padding: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .cart-preview-header h3 {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 22px;
    }

    .cart-preview-body {
        padding: 25px;
    }

    .cart-items-list {
        max-height: 300px;
        overflow-y: auto;
        margin-bottom: 20px;
        border-bottom: 2px solid #eee;
        padding-bottom: 20px;
    }

    .cart-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .cart-item:last-child {
        border-bottom: none;
    }

    .cart-item-info h4 {
        font-size: 16px;
        margin-bottom: 5px;
    }

    .cart-item-info .price {
        font-size: 14px;
        color: var(--gray);
    }

    .cart-item-controls {
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .cart-item-qty {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .cart-item-qty-btn {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        border: none;
        background: var(--light-gray);
        color: var(--dark);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
    }

    .cart-item-qty-btn:hover {
        background: #ddd;
    }

    .cart-item-price {
        font-weight: 700;
        color: var(--primary);
        min-width: 80px;
        text-align: right;
        font-size: 16px;
    }

    .cart-summary {
        margin-top: 20px;
    }

    .summary-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 12px;
        font-size: 16px;
    }

    .delivery-info-row {
        color: var(--info);
        font-weight: 600;
    }

    .total {
        font-size: 22px;
        font-weight: 700;
        color: var(--primary);
        margin-top: 15px;
        padding-top: 15px;
        border-top: 2px dashed #ddd;
    }

    .cart-preview-footer {
        padding: 20px 25px;
        background: #f8f9fa;
        display: flex;
        justify-content: space-between;
        gap: 15px;
    }

    .btn {
        padding: 14px 30px;
        border-radius: 10px;
        border: none;
        font-weight: 700;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        flex: 1;
    }

    .btn-secondary {
        background: var(--light-gray);
        color: var(--dark);
    }

    .btn-secondary:hover {
        background: #ddd;
    }

    .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        box-shadow: 0 4px 8px rgba(255, 87, 34, 0.3);
    }

    .btn-primary:hover {
        background: linear-gradient(135deg, var(--primary-dark), var(--primary));
        transform: translateY(-2px);
    }

    /* Order Form Modal */
    .order-form-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1200;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .order-form-modal.active {
        display: flex;
    }

    .order-form-content {
        background: white;
        width: 100%;
        max-width: 600px;
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        max-height: 90vh;
        overflow-y: auto;
    }

    .order-form-header {
        background: linear-gradient(135deg, var(--secondary), #e68900);
        color: white;
        padding: 20px;
        text-align: center;
    }

    .order-form-header h3 {
        font-size: 24px;
        margin-bottom: 5px;
    }

    .order-form-body {
        padding: 25px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--dark);
        font-size: 16px;
    }

    .form-group input, .form-group textarea, .form-group select {
        width: 100%;
        padding: 15px;
        border-radius: 10px;
        border: 2px solid #ddd;
        font-size: 16px;
        font-family: inherit;
        transition: border-color 0.3s;
    }

    .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
        outline: none;
        border-color: var(--primary);
    }

    .location-section {
        border: 2px dashed #ddd;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .location-btn {
        background: var(--info);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 10px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        width: 100%;
        justify-content: center;
        margin-top: 10px;
        transition: background 0.3s;
    }

    .location-btn:hover {
        background: #0b7dda;
    }

    .location-display {
        background: #f8f9fa;
        padding: 12px;
        border-radius: 8px;
        margin-top: 15px;
        font-size: 14px;
        display: none;
    }

    .location-display.active {
        display: block;
    }

    .order-summary-box {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 20px;
        margin-top: 20px;
        border: 2px solid #eaeaea;
    }

    .order-summary-box h4 {
        margin-bottom: 15px;
        color: var(--primary-dark);
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 18px;
    }

    .order-form-footer {
        padding: 25px;
        background: #f8f9fa;
        display: flex;
        justify-content: center;
    }

    .submit-order-btn {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: white;
        border: none;
        padding: 18px 50px;
        border-radius: 15px;
        font-size: 20px;
        font-weight: 700;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 15px;
        transition: all 0.3s;
        box-shadow: 0 6px 20px rgba(255, 87, 34, 0.4);
        width: 100%;
        justify-content: center;
    }

    .submit-order-btn:hover {
        background: linear-gradient(135deg, var(--primary-dark), var(--primary));
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(255, 87, 34, 0.5);
    }

    .submit-order-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }

    /* Success Modal */
    .success-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1400;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .success-modal.active {
        display: flex;
    }

    .success-content {
        background: white;
        width: 100%;
        max-width: 500px;
        border-radius: var(--radius);
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        text-align: center;
        padding: 40px;
    }

    .success-icon {
        font-size: 80px;
        color: var(--primary);
        margin-bottom: 20px;
        animation: successAnimation 1s;
    }

    @keyframes successAnimation {
        0% { transform: scale(0); }
        70% { transform: scale(1.2); }
        100% { transform: scale(1); }
    }

    .success-content h2 {
        font-size: 28px;
        color: var(--primary-dark);
        margin-bottom: 15px;
    }

    .success-content p {
        color: var(--gray);
        margin-bottom: 25px;
        font-size: 17px;
    }

    .success-btn {
        background: var(--primary);
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 700;
        cursor: pointer;
        transition: background 0.3s;
        margin-top: 20px;
        width: 100%;
    }

    .success-btn:hover {
        background: var(--primary-dark);
    }

    /* Toast Notification */
    .toast {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background: var(--primary);
        color: white;
        padding: 18px 25px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 15px;
        z-index: 1300;
        transform: translateX(100px);
        opacity: 0;
        transition: transform 0.4s, opacity 0.4s;
        max-width: 350px;
    }

    .toast.show {
        transform: translateX(0);
        opacity: 1;
    }

    .toast i {
        font-size: 24px;
    }

    .toast-message {
        font-size: 16px;
        font-weight: 600;
    }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 50px 20px;
        color: var(--gray);
        background: white;
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        margin-top: 20px;
    }

    .empty-state i {
        font-size: 60px;
        margin-bottom: 20px;
        opacity: 0.5;
        color: var(--primary-light);
    }

    .empty-state h3 {
        font-size: 22px;
        margin-bottom: 10px;
        color: var(--dark);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .header {
            flex-direction: column;
            gap: 15px;
            padding: 15px;
        }
        
        .user-badge {
            order: 1;
            width: 100%;
            justify-content: center;
            margin-top: 10px;
        }
        
        .logo {
            width: 100%;
            justify-content: center;
        }
        
        .food-container {
            grid-template-columns: 1fr;
        }
        
        .fixed-order-btn {
            width: 90%;
            justify-content: center;
            padding: 15px 20px;
            font-size: 18px;
        }
        
        .btn {
            padding: 12px 20px;
            font-size: 15px;
        }
    }

    @media (max-width: 480px) {
        .welcome-text h2 {
            font-size: 20px;
        }
        
        .food-name {
            font-size: 16px;
        }
        
        .food-price {
            font-size: 20px;
        }
        
        .cart-preview-footer, .order-form-footer {
            flex-direction: column;
        }
        
        .toast {
            left: 20px;
            right: 20px;
            bottom: 20px;
            max-width: none;
        }
        
        .language-toggle {
            top: 5px;
            right: 5px;
        }
        
        .lang-btn {
            padding: 6px 12px;
            font-size: 12px;
        }
    }
</style>
</head>
<body>

<!-- Language Toggle -->
<div class="language-toggle">
    <button class="lang-btn active" onclick="changeLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
    <button class="lang-btn" onclick="changeLanguage('en')">English</button>
</div>

<!-- Header -->
<header class="header">
    <div class="logo">
        <div class="logo-icon">
            <i class="fas fa-utensils"></i>
        </div>
        <div class="logo-text">
            <h1 id="appTitle">Banda Ki Seva</h1>
            <span id="appSubtitle">‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä</span>
        </div>
    </div>
    
    <div class="user-badge">
        <i class="fas fa-map-marker-alt"></i>
        <span id="colonyName">Swaraj Colony</span>
        <div class="cart-icon" onclick="showCartPreview()">
            <i class="fas fa-shopping-cart"></i>
            <div class="cart-count" id="cartCount">0</div>
        </div>
        <a href="index.html" class="nav-btn">
            <i class="fas fa-shopping-basket"></i>
            <span id="rationText">‡§∞‡§æ‡§∂‡§® ‡§ë‡§∞‡•ç‡§°‡§∞</span>
        </a>
    </div>
</header>

<!-- Welcome Section -->
<div class="welcome-section">
    <div class="welcome-icon">
        <i class="fas fa-hamburger"></i>
    </div>
    <div class="welcome-text">
        <h2 id="welcomeTitle">üçΩÔ∏è ‡§∏‡•ç‡§µ‡§∞‡§æ‡§ú ‡§ï‡•â‡§≤‡•ã‡§®‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä üçΩÔ∏è</h2>
        <p id="welcomeText">‡§ó‡§∞‡§Æ‡§æ-‡§ó‡§∞‡§Æ ‡§ö‡§æ‡§ü, ‡§™‡§æ‡§µ ‡§≠‡§æ‡§ú‡•Ä, ‡§ó‡•ã‡§≤‡§ó‡§™‡•ç‡§™‡•á ‡§Ø‡§æ ‡§Æ‡•ã‡§Æ‡•ã ‚Äî ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§ò‡§∞ ‡§¨‡•à‡§†‡•á!</p>
    </div>
</div>

<!-- Food Items Section -->
<div class="food-section">
    <div class="food-header">
        <h2 class="food-title">
            <i class="fas fa-store"></i>
            <span id="foodItemsTitle">‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§Ü‡§á‡§ü‡§Æ‡•ç‡§∏</span>
        </h2>
    </div>
    
    <!-- Food Grid -->
    <div class="food-container" id="foodContainer">
        <!-- Food items will be dynamically added -->
        <div class="empty-state">
            <i class="fas fa-search"></i>
            <h3 id="loadingTitle">‡§´‡•Ç‡§° ‡§Ü‡§á‡§ü‡§Æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...</h3>
            <p id="loadingText">‡§ï‡•É‡§™‡§Ø‡§æ ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç</p>
        </div>
    </div>
</div>

<!-- Fixed Order Button -->
<button class="fixed-order-btn" id="fixedOrderBtn" onclick="showOrderForm()" disabled>
    <i class="fas fa-paper-plane"></i>
    <span id="orderButtonText">‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç</span>
    <i class="fas fa-arrow-right"></i>
</button>

<!-- Cart Preview Modal -->
<div class="cart-preview-modal" id="cartPreviewModal">
    <div class="cart-preview-content">
        <div class="cart-preview-header">
            <h3><i class="fas fa-shopping-cart"></i> <span id="cartTitle">‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä</span></h3>
            <i class="fas fa-times close-modal" onclick="hideCartPreview()"></i>
        </div>
        
        <div class="cart-preview-body">
            <div class="cart-items-list" id="cartItemsList">
                <!-- Cart items will be dynamically added -->
                <div class="empty-state" style="padding: 30px;">
                    <i class="fas fa-shopping-basket"></i>
                    <h3 id="emptyCartTitle">‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à</h3>
                    <p id="emptyCartText">‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è + ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç</p>
                </div>
            </div>
            
            <div class="cart-summary">
                <div class="summary-row">
                    <span id="totalItemsText">‡§ï‡•Å‡§≤ ‡§Ü‡§á‡§ü‡§Æ:</span>
                    <span id="previewTotalItems">0</span>
                </div>
                <div class="summary-row">
                    <span id="subtotalText">‡§ï‡•Å‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø:</span>
                    <span id="previewSubtotal">‚Çπ0</span>
                </div>
                <div class="summary-row delivery-info-row" id="deliveryInfoRow">
                    <span id="deliveryText">‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∂‡•Å‡§≤‡•ç‡§ï:</span>
                    <span id="previewDelivery">‚Çπ20</span>
                </div>
                <div class="summary-row total">
                    <span id="totalAmountText">‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø:</span>
                    <span id="previewTotalAmount">‚Çπ20</span>
                </div>
            </div>
        </div>
        
        <div class="cart-preview-footer">
            <button class="btn btn-secondary" onclick="hideCartPreview()">
                <i class="fas fa-shopping"></i>
                <span id="continueShoppingText">‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞‡•Ä ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç</span>
            </button>
            <button class="btn btn-primary" onclick="showOrderForm()">
                <i class="fas fa-check-circle"></i>
                <span id="placeOrderText">‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§®‡§æ ‡§π‡•à</span>
            </button>
        </div>
    </div>
</div>

<!-- Order Form Modal -->
<div class="order-form-modal" id="orderFormModal">
    <div class="order-form-content">
        <div class="order-form-header">
            <h3 id="orderFormTitle">üìù ‡§Ü‡§ñ‡§ø‡§∞‡•Ä ‡§∏‡•ç‡§ü‡•á‡§™! üìù</h3>
            <p id="orderFormSubtitle">‡§Ö‡§™‡§®‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç</p>
        </div>
        
        <div class="order-form-body">
            <div class="form-group">
                <label for="customerName"><i class="fas fa-user"></i> <span id="nameLabel">‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ *</span></label>
                <input type="text" id="customerName" placeholder="‡§Ö‡§™‡§®‡§æ ‡§™‡•Ç‡§∞‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç">
            </div>
            
            <div class="form-group">
                <label for="customerPhone"><i class="fas fa-phone"></i> <span id="phoneLabel">‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ *</span></label>
                <input type="tel" id="customerPhone" placeholder="‡§Ö‡§™‡§®‡§æ 10-‡§Ö‡§Ç‡§ï‡•Ä‡§Ø ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞">
            </div>
            
            <div class="form-group">
                <label for="customerAddress"><i class="fas fa-home"></i> <span id="addressLabel">‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ *</span></label>
                <textarea id="customerAddress" rows="3" placeholder="‡§Æ‡§ï‡§æ‡§® ‡§®‡§Ç‡§¨‡§∞, ‡§ó‡§≤‡•Ä ‡§®‡§Ç‡§¨‡§∞, ‡§ï‡•â‡§≤‡•ã‡§®‡•Ä ‡§ï‡§æ ‡§®‡§æ‡§Æ"></textarea>
            </div>
            
            <div class="form-group">
                <label for="deliveryTime"><i class="fas fa-clock"></i> <span id="deliveryTimeLabel">‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∏‡§Æ‡§Ø</span></label>
                <select id="deliveryTime">
                    <option value="11:00-13:00">‡§∏‡•Å‡§¨‡§π 11:00 - 1:00</option>
                    <option value="13:00-15:00" selected>‡§¶‡•ã‡§™‡§π‡§∞ 1:00 - 3:00</option>
                    <option value="15:00-17:00">‡§¶‡•ã‡§™‡§π‡§∞ 3:00 - 5:00</option>
                    <option value="17:00-19:00">‡§∂‡§æ‡§Æ 5:00 - 7:00</option>
                    <option value="19:00-21:00">‡§∂‡§æ‡§Æ 7:00 - 9:00</option>
                    <option value="21:00-22:00">‡§∞‡§æ‡§§ 9:00 - 10:00</option>
                </select>
            </div>

                        <!-- Location Section -->
            <div class="location-section">
                <label><i class="fas fa-location-dot"></i> <span id="locationLabel">‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§®</span></label>
                <p id="locationHelp" style="font-size:14px; color:#666; margin-bottom:10px;">‡§Ö‡§™‡§®‡§æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§Ü‡§∏‡§æ‡§® ‡§π‡•ã</p>
                <div id="locationDisplay" class="location-display">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="locationText">‡§∏‡•ç‡§•‡§æ‡§® ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à...</span>
                </div>
                <button type="button" class="location-btn" onclick="getUserLocation()">
                    <i class="fas fa-location-arrow"></i>
                    <span id="locationButtonText">‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç</span>
                </button>
            </div>
            
            <div class="form-group">
                <label for="orderNotes"><i class="fas fa-sticky-note"></i> <span id="notesLabel">‡§µ‡§ø‡§∂‡•á‡§∑ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂ (‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à ‡§π‡•ã)</span></label>
                <textarea id="orderNotes" rows="2" placeholder="‡§â‡§¶‡§æ‡§π‡§∞‡§£: ‡§ï‡§Æ ‡§Æ‡§ø‡§∞‡•ç‡§ö, ‡§è‡§ï‡•ç‡§∏‡•ç‡§ü‡•ç‡§∞‡§æ ‡§ö‡§ü‡§®‡•Ä, ‡§Ü‡§≤‡•Ç ‡§ï‡§Æ"></textarea>
            </div>
            
            <div class="order-summary-box">
                <h4><i class="fas fa-receipt"></i> <span id="orderSummaryTitle">‡§Ü‡§™‡§ï‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂</span></h4>
                <div id="orderSummaryContent"></div>
                <div class="summary-row delivery-info-row">
                    <span id="deliveryChargeText">‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∂‡•Å‡§≤‡•ç‡§ï:</span>
                    <span id="orderFormDelivery">‚Çπ20</span>
                </div>
                <div class="summary-row total">
                    <span id="totalText">‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø:</span>
                    <span id="orderFormTotal">‚Çπ20</span>
                </div>
            </div>
        </div>
        
        <div class="order-form-footer">
            <button class="submit-order-btn" onclick="submitOrder()" id="submitOrderBtn">
                <i class="fas fa-check-circle"></i>
                <span id="submitOrderText">‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç</span>
            </button>
        </div>
    </div>
</div>

<!-- Success Modal -->
<div class="success-modal" id="successModal">
    <div class="success-content">
        <div class="success-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <h2 id="successTitle">üéâ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§´‡§≤! üéâ</h2>
        <p id="successMessage">‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§</p>
        <p id="successNote">‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ ‡§Ü‡§™‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§ó‡•Ä ‡§î‡§∞ ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ï‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä!</p>
        <p><strong id="orderIdText">‡§Ü‡§™‡§ï‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä: <span id="orderId">BKSS-12345</span></strong></p>
        <button class="success-btn" onclick="hideSuccessModal()">
            <i class="fas fa-home"></i>
            <span id="continueShoppingBtnText">‡§µ‡§æ‡§™‡§∏ ‡§∂‡•â‡§™‡§ø‡§Ç‡§ó ‡§ï‡§∞‡•á‡§Ç</span>
        </button>
    </div>
</div>

<!-- Toast Notification -->
<div class="toast" id="toast">
    <i class="fas fa-check-circle"></i>
    <div class="toast-message" id="toastMessage">‡§Ü‡§á‡§ü‡§Æ ‡§ü‡•ã‡§ï‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ</div>
</div>

<!-- Leaflet Map JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
<script>
    // Telegram Bot Configuration
    const TELEGRAM_BOT_TOKEN = "7729928604:AAEINikbhwHTMSK1pgV3nROUfSGEVb-z2r4";
    const TELEGRAM_CHAT_ID = "6798434092";
    const WHATSAPP_PHONE = "916351598832";
    
    // Language Strings
    const strings = {
        hi: {
            // App
            appTitle: "Banda Ki Seva",
            appSubtitle: "‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä",
            rationText: "‡§∞‡§æ‡§∂‡§® ‡§ë‡§∞‡•ç‡§°‡§∞",
            
            // Welcome
            welcomeTitle: "üçΩÔ∏è ‡§∏‡•ç‡§µ‡§∞‡§æ‡§ú ‡§ï‡•â‡§≤‡•ã‡§®‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä üçΩÔ∏è",
            welcomeText: "‡§ó‡§∞‡§Æ‡§æ-‡§ó‡§∞‡§Æ ‡§ö‡§æ‡§ü, ‡§™‡§æ‡§µ ‡§≠‡§æ‡§ú‡•Ä, ‡§ó‡•ã‡§≤‡§ó‡§™‡•ç‡§™‡•á ‡§Ø‡§æ ‡§Æ‡•ã‡§Æ‡•ã ‚Äî ‡§∏‡§¨ ‡§ï‡•Å‡§õ ‡§ò‡§∞ ‡§¨‡•à‡§†‡•á!",
            
            // Food Items
            foodItemsTitle: "‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§Ü‡§á‡§ü‡§Æ‡•ç‡§∏",
            loadingTitle: "‡§´‡•Ç‡§° ‡§Ü‡§á‡§ü‡§Æ ‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...",
            loadingText: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§•‡•ã‡§°‡§º‡•Ä ‡§¶‡•á‡§∞ ‡§™‡•ç‡§∞‡§§‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç",
            
            // Cart
            cartTitle: "‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä",
            emptyCartTitle: "‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à",
            emptyCartText: "‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è + ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç",
            totalItemsText: "‡§ï‡•Å‡§≤ ‡§Ü‡§á‡§ü‡§Æ:",
            subtotalText: "‡§ï‡•Å‡§≤ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø:",
            deliveryText: "‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∂‡•Å‡§≤‡•ç‡§ï:",
            totalAmountText: "‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø:",
            continueShoppingText: "‡§ñ‡§∞‡•Ä‡§¶‡§æ‡§∞‡•Ä ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç",
            placeOrderText: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§¶‡•á‡§®‡§æ ‡§π‡•à",
            
            // Order Form
            orderFormTitle: "üìù ‡§Ü‡§ñ‡§ø‡§∞‡•Ä ‡§∏‡•ç‡§ü‡•á‡§™! üìù",
            orderFormSubtitle: "‡§Ö‡§™‡§®‡§æ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§≠‡§∞‡•á‡§Ç ‡§î‡§∞ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç",
            nameLabel: "‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ *",
            phoneLabel: "‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ *",
            addressLabel: "‡§™‡•Ç‡§∞‡§æ ‡§™‡§§‡§æ *",
            deliveryTimeLabel: "‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∏‡§Æ‡§Ø",
            locationLabel: "‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§®",
            locationHelp: "‡§Ö‡§™‡§®‡§æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§Ü‡§∏‡§æ‡§® ‡§π‡•ã",
            locationButtonText: "‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§∞‡•á‡§Ç",
            notesLabel: "‡§µ‡§ø‡§∂‡•á‡§∑ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂ (‡§Ö‡§ó‡§∞ ‡§ï‡•ã‡§à ‡§π‡•ã)",
            orderSummaryTitle: "‡§Ü‡§™‡§ï‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂",
            deliveryChargeText: "‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∂‡•Å‡§≤‡•ç‡§ï:",
            totalText: "‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø:",
            submitOrderText: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç",
            
            // Success
            successTitle: "üéâ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§´‡§≤! üéâ",
            successMessage: "‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§",
            successNote: "‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ ‡§Ü‡§™‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§ó‡•Ä ‡§î‡§∞ ‡§´‡•Ç‡§° ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ï‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä!",
            orderIdText: "‡§Ü‡§™‡§ï‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä:",
            continueShoppingBtnText: "‡§µ‡§æ‡§™‡§∏ ‡§∂‡•â‡§™‡§ø‡§Ç‡§ó ‡§ï‡§∞‡•á‡§Ç",
            
            // Button
            orderButtonText: "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç"
        },
        en: {
            // App
            appTitle: "Banda Ki Seva",
            appSubtitle: "Street Food Delivery",
            rationText: "Ration Order",
            
            // Welcome
            welcomeTitle: "üçΩÔ∏è Street Food Delivery for Swaraj Colony üçΩÔ∏è",
            welcomeText: "Hot Chaat, Pav Bhaji, Golgappe or Momo ‚Äî Everything at home!",
            
            // Food Items
            foodItemsTitle: "Street Food Items",
            loadingTitle: "Food items loading...",
            loadingText: "Please wait a moment",
            
            // Cart
            cartTitle: "Your Cart",
            emptyCartTitle: "Your cart is empty",
            emptyCartText: "Click + button to add products",
            totalItemsText: "Total Items:",
            subtotalText: "Total Value:",
            deliveryText: "Delivery Charge:",
            totalAmountText: "Total Amount:",
            continueShoppingText: "Continue Shopping",
            placeOrderText: "Place Order",
            
            // Order Form
            orderFormTitle: "üìù Final Step! üìù",
            orderFormSubtitle: "Fill your details and submit order",
            nameLabel: "Your Name *",
            phoneLabel: "Phone Number *",
            addressLabel: "Full Address *",
            deliveryTimeLabel: "Delivery Time",
            locationLabel: "Your Location",
            locationHelp: "Share your location for easier delivery",
            locationButtonText: "Share Location",
            notesLabel: "Special Instructions (if any)",
            orderSummaryTitle: "Your Order Summary",
            deliveryChargeText: "Delivery Charge:",
            totalText: "Total Amount:",
            submitOrderText: "Submit Order",
            
            // Success
            successTitle: "üéâ Order Successful! üéâ",
            successMessage: "Your street food order has been submitted successfully.",
            successNote: "Our team will contact you and food will be delivered!",
            orderIdText: "Your Order ID:",
            continueShoppingBtnText: "Back to Shopping",
            
            // Button
            orderButtonText: "Submit Order"
        }
    };

    // Food Database
    const foodItems = [
        { 
            id: 1, 
            name: "‡§™‡§æ‡§µ ‡§≠‡§æ‡§ú‡•Ä", 
            name_en: "Pav Bhaji", 
            emoji: "üçû", 
            icon: "fas fa-bread-slice",
            price: 60, 
            description: "‡§Æ‡§∏‡§æ‡§≤‡•á‡§¶‡§æ‡§∞ ‡§∏‡§¨‡•ç‡§ú‡§º‡•Ä, ‡§Æ‡§ï‡•ç‡§ñ‡§® ‡§™‡§æ‡§µ ‡§ï‡•á ‡§∏‡§æ‡§•",
            description_en: "Spicy vegetables with buttered pav",
            category: "‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø"
        },
        { 
            id: 2, 
            name: "‡§ó‡•ã‡§≤‡§ó‡§™‡•ç‡§™‡•á", 
            name_en: "Golgappe", 
            emoji: "üíß", 
            icon: "fas fa-water",
            price: 30, 
            description: "‡§ï‡•Å‡§∞‡§ï‡•Å‡§∞‡•á ‡§™‡§æ‡§®‡•Ä‡§™‡•Å‡§∞‡•Ä, ‡§Æ‡§∏‡§æ‡§≤‡•á‡§¶‡§æ‡§∞ ‡§™‡§æ‡§®‡•Ä",
            description_en: "Crispy puris with spicy water",
            category: "‡§∏‡•ç‡§®‡•à‡§ï‡•ç‡§∏"
        },
        { 
            id: 3, 
            name: "‡§§‡§Ç‡§¶‡•Ç‡§∞‡•Ä ‡§Æ‡•ã‡§Æ‡•ã", 
            name_en: "Tandoori Momo", 
            emoji: "ü•ü", 
            icon: "fas fa-dumpling",
            price: 100, 
            description: "‡§§‡§Ç‡§¶‡•Ç‡§∞ ‡§Æ‡•á‡§Ç ‡§¨‡§®‡•á, ‡§Æ‡§∏‡§æ‡§≤‡•á‡§¶‡§æ‡§∞ ‡§Æ‡•ã‡§Æ‡•ã",
            description_en: "Tandoor baked, spicy momos",
            category: "‡§ö‡§æ‡§á‡§®‡•Ä‡§ú"
        },
        { 
            id: 4, 
            name: "‡§∏‡•ç‡§ü‡•Ä‡§Æ ‡§Æ‡•ã‡§Æ‡•ã", 
            name_en: "Steam Momo", 
            emoji: "ü•ü", 
            icon: "fas fa-dumpling",
            price: 80, 
            description: "‡§≠‡§æ‡§™ ‡§Æ‡•á‡§Ç ‡§™‡§ï‡•á, ‡§§‡§æ‡§ú‡§º‡§æ ‡§Æ‡•ã‡§Æ‡•ã",
            description_en: "Steamed, fresh momos",
            category: "‡§ö‡§æ‡§á‡§®‡•Ä‡§ú"
        },
        { 
            id: 5, 
            name: "‡§´‡•ç‡§∞‡§æ‡§à ‡§Æ‡•ã‡§Æ‡•ã", 
            name_en: "Fry Momo", 
            emoji: "ü•ü", 
            icon: "fas fa-dumpling",
            price: 90, 
            description: "‡§ï‡•Å‡§∞‡§ï‡•Å‡§∞‡•á ‡§§‡§≤‡•á ‡§π‡•Å‡§è ‡§Æ‡•ã‡§Æ‡•ã",
            description_en: "Crispy fried momos",
            category: "‡§ö‡§æ‡§á‡§®‡•Ä‡§ú"
        },
        { 
            id: 6, 
            name: "‡§ö‡§æ‡§ü", 
            name_en: "Chaat", 
            emoji: "üßÜ", 
            icon: "fas fa-mortar-pestle",
            price: 50, 
            description: "‡§Æ‡§ø‡§∂‡•ç‡§∞‡§ø‡§§ ‡§ö‡§æ‡§ü, ‡§Æ‡§∏‡§æ‡§≤‡•á‡§¶‡§æ‡§∞ ‡§î‡§∞ ‡§ñ‡§ü‡•ç‡§ü‡§æ",
            description_en: "Mixed chaat, spicy and tangy",
            category: "‡§∏‡•ç‡§®‡•à‡§ï‡•ç‡§∏"
        },
        { 
            id: 7, 
            name: "‡§∏‡§Æ‡•ã‡§∏‡§æ", 
            name_en: "Samosa", 
            emoji: "ü•ü", 
            icon: "fas fa-pie",
            price: 15, 
            description: "‡§ï‡•Å‡§∞‡§ï‡•Å‡§∞‡•á ‡§∏‡§Æ‡•ã‡§∏‡•á, ‡§Ü‡§≤‡•Ç ‡§≠‡§∞‡§æ ‡§π‡•Å‡§Ü",
            description_en: "Crispy samosas, potato filled",
            category: "‡§∏‡•ç‡§®‡•à‡§ï‡•ç‡§∏"
        },
        { 
            id: 8, 
            name: "‡§ï‡•Å‡§≤‡•ç‡§´‡•Ä", 
            name_en: "Kulfi", 
            emoji: "üç¶", 
            icon: "fas fa-ice-cream",
            price: 40, 
            description: "‡§™‡§æ‡§∞‡§Ç‡§™‡§∞‡§ø‡§ï ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§Ü‡§á‡§∏‡§ï‡•ç‡§∞‡•Ä‡§Æ",
            description_en: "Traditional Indian ice cream",
            category: "‡§°‡•á‡§ú‡§º‡§∞‡•ç‡§ü"
        },
        { 
            id: 9, 
            name: "‡§°‡•ã‡§∏‡§æ", 
            name_en: "Dosa", 
            emoji: "ü•ò", 
            icon: "fas fa-pancake",
            price: 70, 
            description: "‡§ï‡•Å‡§∞‡§ï‡•Å‡§∞‡•Ä ‡§°‡•ã‡§∏‡§æ, ‡§ö‡§ü‡§®‡•Ä ‡§î‡§∞ ‡§∏‡§æ‡§Ç‡§≠‡§∞",
            description_en: "Crispy dosa, chutney and sambhar",
            category: "‡§¶‡§ï‡•ç‡§∑‡§ø‡§£ ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø"
        },
        { 
            id: 10, 
            name: "‡§á‡§°‡§≤‡•Ä-‡§∏‡§Æ‡•ç‡§¨‡§∞", 
            name_en: "Idli-Sambhar", 
            emoji: "ü•£", 
            icon: "fas fa-bowl-food",
            price: 50, 
            description: "‡§®‡§∞‡§Æ ‡§á‡§°‡§≤‡•Ä, ‡§ó‡§∞‡§Æ ‡§∏‡§æ‡§Ç‡§≠‡§∞",
            description_en: "Soft idli, hot sambhar",
            category: "‡§¶‡§ï‡•ç‡§∑‡§ø‡§£ ‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø"
        },
        { 
            id: 11, 
            name: "‡§ö‡§æ‡§ä‡§Æ‡•Ä‡§®", 
            name_en: "Chowmein", 
            emoji: "üçú", 
            icon: "fas fa-noodles",
            price: 80, 
            description: "‡§∏‡§¨‡•ç‡§ú‡§º‡•Ä ‡§ö‡§æ‡§â‡§Æ‡•Ä‡§®, ‡§§‡§æ‡§ú‡§º‡•Ä ‡§∏‡§¨‡•ç‡§ú‡§º‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§•",
            description_en: "Veg chowmein with fresh vegetables",
            category: "‡§ö‡§æ‡§á‡§®‡•Ä‡§ú"
        },
        { 
            id: 12, 
            name: "‡§Æ‡•à‡§ó‡•Ä", 
            name_en: "Maggi", 
            emoji: "üçú", 
            icon: "fas fa-utensils",
            price: 40, 
            description: "2-‡§Æ‡§ø‡§®‡§ü ‡§®‡•Ç‡§°‡§≤‡•ç‡§∏, ‡§Æ‡§∏‡§æ‡§≤‡•á‡§¶‡§æ‡§∞",
            description_en: "2-minute noodles, spicy",
            category: "‡§´‡§æ‡§∏‡•ç‡§ü ‡§´‡•Ç‡§°"
        }
    ];

    // Application State
    let cart = {};
    let currentColony = "Swaraj Colony";
    let currentLanguage = "hi";
    let userLocation = null;
    
    // DOM Elements
    const foodContainer = document.getElementById('foodContainer');
    const cartCount = document.getElementById('cartCount');
    const fixedOrderBtn = document.getElementById('fixedOrderBtn');
    const cartPreviewModal = document.getElementById('cartPreviewModal');
    const cartItemsList = document.getElementById('cartItemsList');
    const previewTotalItems = document.getElementById('previewTotalItems');
    const previewSubtotal = document.getElementById('previewSubtotal');
    const previewDelivery = document.getElementById('previewDelivery');
    const previewTotalAmount = document.getElementById('previewTotalAmount');
    const deliveryInfoRow = document.getElementById('deliveryInfoRow');
    const orderFormModal = document.getElementById('orderFormModal');
    const orderSummaryContent = document.getElementById('orderSummaryContent');
    const orderFormDelivery = document.getElementById('orderFormDelivery');
    const orderFormTotal = document.getElementById('orderFormTotal');
    const submitOrderBtn = document.getElementById('submitOrderBtn');
    const successModal = document.getElementById('successModal');
    const toast = document.getElementById('toast');
    const toastMessage = document.getElementById('toastMessage');
    const colonyName = document.getElementById('colonyName');
    const orderId = document.getElementById('orderId');
    const locationDisplay = document.getElementById('locationDisplay');
    const locationText = document.getElementById('locationText');

    // Initialize the application
    function initApp() {
        // Check language preference
        const savedLanguage = localStorage.getItem('language');
        if (savedLanguage) {
            currentLanguage = savedLanguage;
            updateLanguageButtons();
        }
        
        // Check if user is from Swaraj Colony
        const savedColony = localStorage.getItem('userColony');
        
        if (savedColony) {
            currentColony = savedColony;
            colonyName.textContent = currentColony;
        } else {
            showWelcomeMessage();
        }
        
        // Load cart from localStorage
        const savedCart = localStorage.getItem('streetFoodCart');
        if (savedCart) {
            cart = JSON.parse(savedCart);
        }
        
        // Load customer info and auto-fill
        loadCustomerInfo();
        
        // Render everything
        updateAllTexts();
        renderFoodItems();
        updateCartDisplay();
    }

    // Language functions
    function changeLanguage(lang) {
        currentLanguage = lang;
        localStorage.setItem('language', lang);
        updateLanguageButtons();
        updateAllTexts();
        renderFoodItems();
    }

    function updateLanguageButtons() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.remove('active');
            if (btn.textContent === (currentLanguage === 'hi' ? '‡§π‡§ø‡§Ç‡§¶‡•Ä' : 'English')) {
                btn.classList.add('active');
            }
        });
    }

    function updateAllTexts() {
        const lang = strings[currentLanguage];
        
        // Update all text elements
        document.querySelectorAll('[id]').forEach(element => {
            const id = element.id;
            if (lang[id]) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    element.placeholder = lang[id];
                } else {
                    element.innerHTML = lang[id];
                }
            }
        });
        
        // Special cases
        document.getElementById('appTitle').textContent = lang.appTitle;
        document.getElementById('appSubtitle').textContent = lang.appSubtitle;
    }

    // Show welcome message
    function showWelcomeMessage() {
        const message = currentLanguage === 'hi' 
            ? "üëã ‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§ï‡•â‡§≤‡•ã‡§®‡•Ä ‡§∏‡•á ‡§π‡•à‡§Ç?\n\n‡§â‡§¶‡§æ‡§π‡§∞‡§£: Swaraj Colony"
            : "üëã Hello! Which colony are you from?\n\nExample: Swaraj Colony";
            
        const colony = prompt(message);
        if (colony) {
            if (colony.toLowerCase().includes("swaraj") || colony.toLowerCase().includes("colony")) {
                currentColony = colony;
                localStorage.setItem('userColony', colony);
                colonyName.textContent = currentColony;
                showToast(currentLanguage === 'hi' 
                    ? `üéâ ‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ ‡§π‡•à! ${colony} ‡§∏‡•á ‡§Ü‡§™‡§ï‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§`
                    : `üéâ Welcome! Your order from ${colony} has been accepted.`);
            } else {
                const errorMsg = currentLanguage === 'hi'
                    ? "‚ùå ‡§ï‡•ç‡§∑‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç! ‡§∏‡•á‡§µ‡§æ ‡§∏‡§ø‡§∞‡•ç‡§´ Swaraj Colony ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•à‡•§"
                    : "‚ùå Sorry! Service is only for Swaraj Colony.";
                alert(errorMsg);
                
                const errorHTML = currentLanguage === 'hi'
                    ? `<div style="text-align:center; padding:50px; font-size:18px; background: linear-gradient(135deg, #f5f7fa, #c3cfe2); min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center;">
                        <div style="font-size:80px; margin-bottom:20px;">üè†</div>
                        <h2 style="color:#d32f2f;">‚ùå ‡§∏‡•á‡§µ‡§æ ‡§∏‡§ø‡§∞‡•ç‡§´ Swaraj Colony ‡§ï‡•á ‡§≤‡§ø‡§è</h2>
                        <p style="margin-top:20px; color:#555;">‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§∏‡•Ä Swaraj Colony ‡§®‡§ø‡§µ‡§æ‡§∏‡•Ä ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§</p>
                        <button onclick="location.reload()" style="margin-top:30px; padding:15px 30px; background:#FF5722; color:white; border:none; border-radius:10px; font-size:18px; cursor:pointer;">
                            üîÑ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç
                        </button>
                    </div>`
                    : `<div style="text-align:center; padding:50px; font-size:18px; background: linear-gradient(135deg, #f5f7fa, #c3cfe2); min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center;">
                        <div style="font-size:80px; margin-bottom:20px;">üè†</div>
                        <h2 style="color:#d32f2f;">‚ùå Service only for Swaraj Colony</h2>
                        <p style="margin-top:20px; color:#555;">Please contact a Swaraj Colony resident.</p>
                        <button onclick="location.reload()" style="margin-top:30px; padding:15px 30px; background:#FF5722; color:white; border:none; border-radius:10px; font-size:18px; cursor:pointer;">
                            üîÑ Try Again
                        </button>
                    </div>`;
                    
                document.body.innerHTML = errorHTML;
                return;
            }
        }
    }

    // Location functions
    function getUserLocation() {
        if (!navigator.geolocation) {
            showToast(currentLanguage === 'hi' 
                ? "‚ö†Ô∏è ‡§Ü‡§™‡§ï‡§æ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ" 
                : "‚ö†Ô∏è Your browser doesn't support location");
            return;
        }
        
        showToast(currentLanguage === 'hi' 
            ? "üìç ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à..." 
            : "üìç Getting your location...");
        
        navigator.geolocation.getCurrentPosition(
            async (position) => {
                const lat = position.coords.latitude;
                const lng = position.coords.longitude;
                
                try {
                    // Get address from coordinates
                    const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);
                    const data = await response.json();
                    
                    userLocation = {
                        lat: lat,
                        lng: lng,
                        address: data.display_name || `${lat.toFixed(6)}, ${lng.toFixed(6)}`
                    };
                    
                    locationText.textContent = userLocation.address;
                    locationDisplay.classList.add('active');
                    
                    showToast(currentLanguage === 'hi' 
                        ? "‚úÖ ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•ã ‡§ó‡§Ø‡§æ" 
                        : "‚úÖ Your location obtained successfully");
                } catch (error) {
                    console.error("Geocoding error:", error);
                    userLocation = {
                        lat: lat,
                        lng: lng,
                        address: `${lat.toFixed(6)}, ${lng.toFixed(6)}`
                    };
                    
                    locationText.textContent = userLocation.address;
                    locationDisplay.classList.add('active');
                    
                    showToast(currentLanguage === 'hi' 
                        ? "üìç ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ (‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤)" 
                        : "üìç Location obtained (manual)");
                }
            },
            (error) => {
                console.error("Geolocation error:", error);
                showToast(currentLanguage === 'hi' 
                    ? "‚ùå ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø" 
                    : "‚ùå Error getting location");
            }
        );
    }

    // Render food items
    function renderFoodItems() {
        foodContainer.innerHTML = '';
        
        foodItems.forEach(food => {
            const foodCard = document.createElement('div');
            foodCard.className = 'food-card';
            foodCard.setAttribute('data-category', food.category);
            
            // Get quantity from cart
            let quantity = 0;
            if (cart[food.name]) {
                quantity = cart[food.name].quantity;
            }
            
            foodCard.innerHTML = `
                <div class="food-image">
                    ${food.emoji}
                </div>
                <div class="food-badge">‚Çπ${food.price}</div>
                <div class="food-body">
                    <h3 class="food-name">${food.emoji} ${currentLanguage === 'hi' ? food.name : food.name_en}</h3>
                    <div class="food-description">${currentLanguage === 'hi' ? food.description : food.description_en}</div>
                    <div class="food-price">‚Çπ${food.price} <span>${currentLanguage === 'hi' ? '‡§™‡•ç‡§∞‡§§‡§ø ‡§™‡•ç‡§≤‡•á‡§ü' : 'per plate'}</span></div>
                    <div class="food-controls">
                        <div class="qty-controls">
                            <button class="qty-btn" onclick="decrementItem('${food.name}', ${food.price}, ${food.id})">
                                <i class="fas fa-minus"></i>
                            </button>
                            <div class="qty-display" id="qty-${food.id}">${quantity}</div>
                            <button class="qty-btn" onclick="addToCart('${food.name}', ${food.price}, '${currentLanguage === 'hi' ? food.description : food.description_en}', ${food.id})">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <button class="add-to-cart" onclick="addToCart('${food.name}', ${food.price}, '${currentLanguage === 'hi' ? food.description : food.description_en}', ${food.id})">
                            <i class="fas fa-cart-plus"></i>
                            <span>${currentLanguage === 'hi' ? '‡§ú‡•ã‡§°‡§º‡•á‡§Ç' : 'Add'}</span>
                        </button>
                    </div>
                </div>
            `;
            
            foodContainer.appendChild(foodCard);
        });
    }

    // Cart functions
    function addToCart(name, price, description, foodId) {
        // Play sound
        playSound('add');
        
        if (!cart[name]) {
            cart[name] = {
                quantity: 1,
                price: price,
                description: description,
                foodId: foodId
            };
        } else {
            cart[name].quantity++;
        }
        
        updateQuantityDisplay(foodId, cart[name].quantity);
        saveCart();
        updateCartDisplay();
        
        const message = currentLanguage === 'hi' 
            ? `üéâ ${name} ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§æ ‡§ó‡§Ø‡§æ!`
            : `üéâ ${name} added to cart!`;
        showToast(message);
    }

    function decrementItem(name, price, foodId) {
        // Play sound
        playSound('remove');
        
        if (cart[name]) {
            if (cart[name].quantity > 1) {
                cart[name].quantity--;
                updateQuantityDisplay(foodId, cart[name].quantity);
                saveCart();
                updateCartDisplay();
                
                const message = currentLanguage === 'hi' 
                    ? `‚ûñ ${name} ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§∏‡•á ‡§π‡§ü‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ`
                    : `‚ûñ ${name} removed from cart`;
                showToast(message);
            } else {
                // Ask if user wants to remove
                const confirmMsg = currentLanguage === 'hi' 
                    ? `‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ${name} ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§∏‡•á ‡§π‡§ü‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?`
                    : `Do you want to completely remove ${name} from cart?`;
                    
                if (confirm(confirmMsg)) {
                    delete cart[name];
                    updateQuantityDisplay(foodId, 0);
                    saveCart();
                    updateCartDisplay();
                    
                    const message = currentLanguage === 'hi' 
                        ? `üóëÔ∏è ${name} ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§∏‡•á ‡§π‡§ü‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ`
                        : `üóëÔ∏è ${name} removed from cart`;
                    showToast(message);
                }
            }
        }
    }

    function removeCartItem(name, foodId) {
        // Play sound
        playSound('remove');
        
        if (cart[name]) {
            updateQuantityDisplay(foodId, 0);
            delete cart[name];
            
            saveCart();
            updateCartDisplay();
            updateCartPreview();
            
            const message = currentLanguage === 'hi' 
                ? `üóëÔ∏è ${name} ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§∏‡•á ‡§π‡§ü‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ`
                : `üóëÔ∏è ${name} removed from cart`;
            showToast(message);
        }
    }

    function updateQuantityDisplay(foodId, quantity) {
        const qtyElement = document.getElementById(`qty-${foodId}`);
        if (qtyElement) {
            qtyElement.textContent = quantity;
        }
    }

    function updateCartDisplay() {
        // Calculate totals
        let totalCount = 0;
        let totalPrice = 0;
        
        for (const item in cart) {
            totalCount += cart[item].quantity;
            totalPrice += cart[item].quantity * cart[item].price;
        }
        
        // Update cart count
        cartCount.textContent = totalCount;
        
        // Calculate total amount (food price + ‚Çπ20 delivery)
        const deliveryCharge = 20;
        const totalAmount = totalPrice + deliveryCharge;
        
        // Enable/disable order button
        if (totalCount > 0) {
            fixedOrderBtn.disabled = false;
            const buttonText = currentLanguage === 'hi' 
                ? `‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç (‚Çπ${totalAmount})`
                : `Submit Order (‚Çπ${totalAmount})`;
            fixedOrderBtn.innerHTML = `
                <i class="fas fa-paper-plane"></i>
                <span>${buttonText}</span>
                <i class="fas fa-arrow-right"></i>
            `;
        } else {
            fixedOrderBtn.disabled = true;
            const buttonText = currentLanguage === 'hi' 
                ? "‡§™‡§π‡§≤‡•á ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§Ü‡§á‡§ü‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç"
                : "Add items to cart first";
            fixedOrderBtn.innerHTML = `
                <i class="fas fa-shopping-cart"></i>
                <span>${buttonText}</span>
            `;
        }
        
        // Save cart
        saveCart();
    }

    function updateCartPreview() {
        let cartHTML = '';
        let totalCount = 0;
        let totalPrice = 0;
        
        for (const item in cart) {
            const itemData = cart[item];
            const itemTotal = itemData.quantity * itemData.price;
            totalCount += itemData.quantity;
            totalPrice += itemTotal;
            
            cartHTML += `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <h4>${item}</h4>
                        <div class="price">${itemData.description}</div>
                        <div class="cart-item-qty">
                            <button class="cart-item-qty-btn" onclick="decrementItem('${item}', ${itemData.price}, ${itemData.foodId})">
                                -
                            </button>
                            <span>${itemData.quantity}</span>
                            <button class="cart-item-qty-btn" onclick="addToCart('${item}', ${itemData.price}, '${itemData.description}', ${itemData.foodId})">
                                +
                            </button>
                        </div>
                    </div>
                    <div class="cart-item-controls">
                        <div class="cart-item-price">‚Çπ${itemTotal}</div>
                        <button class="cart-item-qty-btn" style="background:#f44336; color:white;" onclick="removeCartItem('${item}', ${itemData.foodId})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `;
        }
        
        if (totalCount === 0) {
            const emptyTitle = currentLanguage === 'hi' ? '‡§Ü‡§™‡§ï‡•Ä ‡§ü‡•ã‡§ï‡§∞‡•Ä ‡§ñ‡§æ‡§≤‡•Ä ‡§π‡•à' : 'Your cart is empty';
            const emptyText = currentLanguage === 'hi' ? '‡§â‡§§‡•ç‡§™‡§æ‡§¶ ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è + ‡§¨‡§ü‡§® ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç' : 'Click + button to add products';
            
            cartItemsList.innerHTML = `
                <div class="empty-state" style="padding: 30px;">
                    <i class="fas fa-shopping-basket"></i>
                    <h3>${emptyTitle}</h3>
                    <p>${emptyText}</p>
                </div>
            `;
        } else {
            cartItemsList.innerHTML = cartHTML;
        }
        
        // Calculate totals
        const deliveryCharge = 20;
        const finalTotal = totalPrice + deliveryCharge;
        
        // Update summary
        previewTotalItems.textContent = `${totalCount} ${currentLanguage === 'hi' ? '‡§Ü‡§á‡§ü‡§Æ' : 'items'}`;
        previewSubtotal.textContent = `‚Çπ${totalPrice}`;
        previewDelivery.textContent = `‚Çπ${deliveryCharge}`;
        previewTotalAmount.textContent = `‚Çπ${finalTotal}`;
        
        // Update order form summary
        updateOrderSummary();
    }

    function updateOrderSummary() {
        let totalCount = 0;
        let totalPrice = 0;
        let summaryHTML = '';
        
        for (const item in cart) {
            const itemData = cart[item];
            const itemTotal = itemData.quantity * itemData.price;
            totalCount += itemData.quantity;
            totalPrice += itemTotal;
            
            summaryHTML += `<p>${item} - ${itemData.quantity} ${currentLanguage === 'hi' ? '‡§™‡•ç‡§≤‡•á‡§ü' : 'plate'} = ‚Çπ${itemTotal}</p>`;
        }
        
        const deliveryCharge = 20;
        const finalTotal = totalPrice + deliveryCharge;
        
        orderSummaryContent.innerHTML = summaryHTML;
        orderFormDelivery.textContent = `‚Çπ${deliveryCharge}`;
        orderFormTotal.textContent = `‚Çπ${finalTotal}`;
    }

    function saveCart() {
        localStorage.setItem('streetFoodCart', JSON.stringify(cart));
    }

    // Load customer info from localStorage
    function loadCustomerInfo() {
        const customerName = localStorage.getItem('customerName');
        const customerPhone = localStorage.getItem('customerPhone');
        const customerAddress = localStorage.getItem('customerAddress');
        
        if (customerName) {
            document.getElementById('customerName').value = customerName;
        }
        if (customerPhone) {
            document.getElementById('customerPhone').value = customerPhone;
        }
        if (customerAddress) {
            document.getElementById('customerAddress').value = customerAddress;
        }
    }

    // Modal functions
    function showCartPreview() {
        updateCartPreview();
        cartPreviewModal.classList.add('active');
    }

    function hideCartPreview() {
        cartPreviewModal.classList.remove('active');
    }

    function showOrderForm() {
        if (Object.keys(cart).length === 0) {
            const message = currentLanguage === 'hi' 
                ? "‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§ï‡§æ‡§∞‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§Ü‡§á‡§ü‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç"
                : "‚ö†Ô∏è Please add some items to cart first";
            showToast(message);
            return;
        }
        
        // Auto-fill customer info
        loadCustomerInfo();
        
        // Update summary
        updateOrderSummary();
        
        // Show modal
        orderFormModal.classList.add('active');
    }

    function hideOrderForm() {
        orderFormModal.classList.remove('active');
    }

    // Send to Telegram
    async function sendToTelegram(message) {
        try {
            let url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: 'Markdown'
                })
            });
            
            const data = await response.json();
            console.log("Telegram response:", data);
            return data;
        } catch (error) {
            console.error("Telegram error:", error);
            throw error;
        }
    }

    // Submit order function
    async function submitOrder() {
        // Get form values
        const customerName = document.getElementById('customerName').value.trim();
        const customerPhone = document.getElementById('customerPhone').value.trim();
        const customerAddress = document.getElementById('customerAddress').value.trim();
        const deliveryTime = document.getElementById('deliveryTime').value;
        const orderNotes = document.getElementById('orderNotes').value.trim();
        
        // Validation
        if (!customerName || !customerPhone || !customerAddress) {
            const message = currentLanguage === 'hi' 
                ? "‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡§æ‡§Æ, ‡§´‡•ã‡§® ‡§î‡§∞ ‡§™‡§§‡§æ ‡§≠‡§∞‡•á‡§Ç"
                : "‚ö†Ô∏è Please fill name, phone and address";
            showToast(message);
            return;
        }
        
        if (!/^\d{10}$/.test(customerPhone)) {
            const message = currentLanguage === 'hi' 
                ? "‚ö†Ô∏è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä 10-‡§Ö‡§Ç‡§ï‡•Ä‡§Ø ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç"
                : "‚ö†Ô∏è Please enter valid 10-digit phone number";
            showToast(message);
            return;
        }
        
        // Disable submit button
        submitOrderBtn.disabled = true;
        const loadingText = currentLanguage === 'hi' 
            ? "‡§ë‡§∞‡•ç‡§°‡§∞ ‡§≠‡•á‡§ú‡§æ ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à..."
            : "Sending order...";
        submitOrderBtn.innerHTML = `
            <i class="fas fa-spinner fa-spin"></i>
            ${loadingText}
        `;
        
        // Save customer info
        localStorage.setItem('customerName', customerName);
        localStorage.setItem('customerPhone', customerPhone);
        localStorage.setItem('customerAddress', customerAddress);
        
        // Prepare order message
        let message = currentLanguage === 'hi' 
            ? `üçú *Banda Ki Seva - ‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä‡§ü ‡§´‡•Ç‡§° ‡§ë‡§∞‡•ç‡§°‡§∞* üçú\n\n`
            : `üçú *Banda Ki Seva - Street Food Order* üçú\n\n`;
            
        message += `üìù *${currentLanguage === 'hi' ? '‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ü‡§à‡§°‡•Ä' : 'Order ID'}:* BKSS-${Date.now().toString().slice(-5)}\n`;
        message += `üë§ *${currentLanguage === 'hi' ? '‡§ó‡•ç‡§∞‡§æ‡§π‡§ï' : 'Customer'}:* ${customerName}\n`;
        message += `üì± *${currentLanguage === 'hi' ? '‡§´‡•ã‡§®' : 'Phone'}:* ${customerPhone}\n`;
        message += `üè† *${currentLanguage === 'hi' ? '‡§™‡§§‡§æ' : 'Address'}:* ${customerAddress}\n`;
        message += `üìç *${currentLanguage === 'hi' ? '‡§ï‡•â‡§≤‡•ã‡§®‡•Ä' : 'Colony'}:* ${currentColony}\n`;
        message += `‚è∞ *${currentLanguage === 'hi' ? '‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∏‡§Æ‡§Ø' : 'Delivery Time'}:* ${deliveryTime}\n`;
        
        if (userLocation) {
            message += `üó∫Ô∏è *Google Maps:* https://maps.google.com/?q=${userLocation.lat},${userLocation.lng}\n`;
            message += `üìç *${currentLanguage === 'hi' ? '‡§∏‡•ç‡§•‡§æ‡§®' : 'Location'}:* ${userLocation.address}\n`;
        }
        
        if (orderNotes) {
            message += `üìã *${currentLanguage === 'hi' ? '‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂' : 'Instructions'}:* ${orderNotes}\n`;
        }
        
        message += `\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
        message += `üõçÔ∏è *${currentLanguage === 'hi' ? '‡§ë‡§∞‡•ç‡§°‡§∞ ‡§µ‡§ø‡§µ‡§∞‡§£' : 'Order Details'}:*\n\n`;
        
        let totalPrice = 0;
        let itemCount = 0;
        
        for (const item in cart) {
            const itemData = cart[item];
            const itemTotal = itemData.quantity * itemData.price;
            message += `‚Ä¢ ${item} - ${itemData.quantity} ${currentLanguage === 'hi' ? '‡§™‡•ç‡§≤‡•á‡§ü' : 'plate'} = ‚Çπ${itemTotal}\n`;
            totalPrice += itemTotal;
            itemCount += itemData.quantity;
        }
        
        const deliveryCharge = 20;
        const finalTotal = totalPrice + deliveryCharge;
        
        message += `\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
        message += `üí∞ *${currentLanguage === 'hi' ? '‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂' : 'Summary'}:*\n`;
        message += `üì¶ ${currentLanguage === 'hi' ? '‡§ï‡•Å‡§≤ ‡§Ü‡§á‡§ü‡§Æ' : 'Total Items'}: ${itemCount}\n`;
        message += `üíµ ${currentLanguage === 'hi' ? '‡§´‡•Ç‡§° ‡§Æ‡•Ç‡§≤‡•ç‡§Ø' : 'Food Value'}: ‚Çπ${totalPrice}\n`;
        message += `üöö ${currentLanguage === 'hi' ? '‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§∂‡•Å‡§≤‡•ç‡§ï' : 'Delivery Charge'}: ‚Çπ${deliveryCharge}\n`;
        message += `üéØ *${currentLanguage === 'hi' ? '‡§ï‡•Å‡§≤ ‡§∞‡§æ‡§∂‡§ø' : 'Total Amount'}: ‚Çπ${finalTotal}*\n\n`;
        
        message += `üìù *${currentLanguage === 'hi' ? '‡§®‡•ã‡§ü' : 'Note'}:* ${currentLanguage === 'hi' 
            ? '‡§∏‡§≠‡•Ä ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§™‡§∞ ‚Çπ20 ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ú' 
            : '‚Çπ20 delivery charge on all orders'}\n`;
        
        message += `üôè ${currentLanguage === 'hi' ? '‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶!' : 'Thank you!'}`;
        
        try {
            // Send to Telegram
            await sendToTelegram(message);
            
            // Send to WhatsApp
            sendToWhatsApp(message);
            
            // Generate random order ID
            const randomOrderId = `BKSS-${Date.now().toString().slice(-6)}`;
            orderId.textContent = randomOrderId;
            
            // Play success sound
            playSound('success');
            
            // Hide order form
            hideOrderForm();
            hideCartPreview();
            
            // Clear cart
            cart = {};
            saveCart();
            updateCartDisplay();
            
            // Show success modal after delay
            setTimeout(() => {
                successModal.classList.add('active');
            }, 500);
            
        } catch (error) {
            console.error("Order submission error:", error);
            const errorMsg = currentLanguage === 'hi' 
                ? "‚ùå ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§≠‡•á‡§ú‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø, ‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç"
                : "‚ùå Error sending order, please try again";
            showToast(errorMsg);
            submitOrderBtn.disabled = false;
            submitOrderBtn.innerHTML = `
                <i class="fas fa-check-circle"></i>
                ${currentLanguage === 'hi' ? '‡§ë‡§∞‡•ç‡§°‡§∞ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç' : 'Submit Order'}
            `;
        }
    }

    // Send to WhatsApp
    function sendToWhatsApp(message) {
        const encodedMessage = encodeURIComponent(message);
        const whatsappURL = `https://wa.me/${WHATSAPP_PHONE}?text=${encodedMessage}`;
        
        // Open in new tab
        setTimeout(() => {
            window.open(whatsappURL, '_blank');
        }, 1000);
    }

    function hideSuccessModal() {
        successModal.classList.remove('active');
        location.reload();
    }

    // Toast notification
    function showToast(message) {
        toastMessage.textContent = message;
        toast.classList.add('show');
        
        setTimeout(() => {
            toast.classList.remove('show');
        }, 3000);
    }

    // Sound effects
    function playSound(type) {
        try {
            const audioContext = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioContext.destination);
            
            if (type === 'add') {
                oscillator.frequency.value = 800;
                gainNode.gain.value = 0.1;
                oscillator.start();
                setTimeout(() => oscillator.stop(), 100);
            } else if (type === 'remove') {
                oscillator.frequency.value = 400;
                gainNode.gain.value = 0.1;
                oscillator.start();
                setTimeout(() => oscillator.stop(), 100);
            } else if (type === 'success') {
                oscillator.frequency.value = 1000;
                gainNode.gain.value = 0.1;
                oscillator.start();
                setTimeout(() => {
                    oscillator.frequency.value = 1200;
                }, 100);
                setTimeout(() => oscillator.stop(), 200);
            }
        } catch (e) {
            console.log("Audio not supported");
        }
    }

    // Initialize app
    document.addEventListener('DOMContentLoaded', initApp);
</script>
</body>
</html>
       
